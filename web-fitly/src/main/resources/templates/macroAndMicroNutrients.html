<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Macro and Micro Nutrients</title>
</head>
<body>
<h1>Macro and Micro Nutrients</h1>

<form th:action="@{/MacroAndMicroNutrients/search}" method="post">
  <input type="text" name="productName" placeholder="Enter a product name">
  <button type="submit">Search</button>
</form>

<div th:if="${foundProducts}">
  <h2>Search Results:</h2>
  <table>
    <tr>
      <th>Name</th>
      <th>Nutrients</th>
      <th>Fat</th>
      <th>Calories</th>
      <th>Proteins</th>
      <th>Carbohydrates</th>
    </tr>
    <tr th:each="product : ${foundProducts}">
      <td th:text="${product.name}"></td>
      <td>
        <ul>
          <li th:each="entry : ${product.nutrients.entrySet()}">
            <span th:text="${entry.key + ': ' + entry.value}"></span>
          </li>
        </ul>
      </td>
      <td th:text="${product.fat}"></td>
      <td th:text="${product.calories}"></td>
      <td th:text="${product.proteins}"></td>
      <td th:text="${product.carbohydrates}"></td>
    </tr>
  </table>
</div>
</body>
</html>
